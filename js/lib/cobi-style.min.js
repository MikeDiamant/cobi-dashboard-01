!function(){"use strict";var t=function(t){for(var e,n=document.querySelectorAll("a");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},e=function(e){var n=t(e.target);if(n&&n.hash)return document.querySelector(n.hash)};window.addEventListener("touchend",function(t){var n=e(t);n&&(n&&n.classList.contains("modal")&&n.classList.toggle("active"),t.preventDefault())})}(),function(){"use strict";var t,e=function(){},n=sessionStorage,i={},r={slideIn:"slide-out",slideOut:"slide-in",fade:"fade"},o={bartab:".bar-tab",barnav:".bar-nav",barfooter:".bar-footer",barheadersecondary:".bar-header-secondary"},a=function(t,e){f.id=t.id,e&&(t=d(t.id)),n[t.id]=JSON.stringify(t),window.history.replaceState(t.id,t.title,t.url),i[t.id]=document.body.cloneNode(!0)},s=function(){var t=f.id,e=JSON.parse(n.cacheForwardStack||"[]"),i=JSON.parse(n.cacheBackStack||"[]");for(i.push(t);e.length;)delete n[e.shift()];for(;i.length>20;)delete n[i.shift()];window.history.pushState(null,"",n[f.id].url),n.cacheForwardStack=JSON.stringify(e),n.cacheBackStack=JSON.stringify(i)},c=function(t,e){var i="forward"===e,r=JSON.parse(n.cacheForwardStack||"[]"),o=JSON.parse(n.cacheBackStack||"[]"),a=i?o:r,s=i?r:o;f.id&&a.push(f.id),s.pop(),n.cacheForwardStack=JSON.stringify(r),n.cacheBackStack=JSON.stringify(o)},d=function(t){return JSON.parse(n[t]||null)||{}},l=function(e){var n=b(e.target);if(!(!n||e.which>1||e.metaKey||e.ctrlKey||t||location.protocol!==n.protocol||location.host!==n.host||!n.hash&&/#/.test(n.href)||n.hash&&n.href.replace(n.hash,"")===location.href.replace(location.hash,"")||"push"===n.getAttribute("data-ignore")))return n},u=function(t){var e=l(t);e&&(t.preventDefault(),f({url:e.href,hash:e.hash,timeout:e.getAttribute("data-timeout"),transition:e.getAttribute("data-transition")}))},h=function(t){var e,a,s,l,u,h,m,v,p=t.state;if(p&&n[p]){if(u=f.id<p?"forward":"back",c(0,u),s=d(p),l=i[p],s.title&&(document.title=s.title),"back"===u?(m=JSON.parse("back"===u?n.cacheForwardStack:n.cacheBackStack),v=d(m[m.length-1])):v=s,"back"===u&&!v.id)return f.id=p;if(h="back"===u?r[v.transition]:v.transition,!l)return f({id:s.id,url:s.url,title:s.title,timeout:s.timeout,transition:h,ignorePush:!0});if(v.transition){s=y(s,".content",l.cloneNode(!0));for(e in o)o.hasOwnProperty(e)&&(a=document.querySelector(o[e]),s[e]?w(s[e],a):a&&a.parentNode.removeChild(a))}w((s.contents||l).cloneNode(!0),document.querySelector(".content"),h),f.id=p,document.body.offsetHeight}},f=function(t){var n,i=f.xhr;t.container=t.container||t.transition?document.querySelector(".content"):document.body;for(n in o)o.hasOwnProperty(n)&&(t[n]=t[n]||document.querySelector(o[n]));i&&i.readyState<4&&(i.onreadystatechange=e,i.abort()),(i=new XMLHttpRequest).open("GET",t.url,!0),i.setRequestHeader("X-PUSH","true"),i.onreadystatechange=function(){t._timeout&&clearTimeout(t._timeout),4===i.readyState&&(200===i.status?m(i,t):v(t.url))},f.id||a({id:+new Date,url:window.location.href,title:document.title,timeout:t.timeout,transition:null}),t.timeout&&(t._timeout=setTimeout(function(){i.abort("timeout")},t.timeout)),i.send(),i.readyState&&!t.ignorePush&&s()},m=function(t,e){var n,i,r=S(t,e);if(!r.contents)return g(e.url);if(r.title&&(document.title=r.title),e.transition)for(n in o)o.hasOwnProperty(n)&&(i=document.querySelector(o[n]),r[n]?w(r[n],i):i&&i.parentNode.removeChild(i));w(r.contents,e.container,e.transition,function(){a({id:e.id||+new Date,url:r.url,title:r.title,timeout:e.timeout,transition:e.transition},e.id),p()}),!e.ignorePush&&window._gaq&&_gaq.push(["_trackPageview"]),e.hash},v=function(t){throw new Error("Could not get: "+t)},w=function(t,e,n,i){var r,o,a;if(n?(r=/in$/.test(n),"fade"===n&&(e.classList.add("in"),e.classList.add("fade"),t.classList.add("fade")),/slide/.test(n)&&(t.classList.add("sliding-in",r?"right":"left"),t.classList.add("sliding"),e.classList.add("sliding")),e.parentNode.insertBefore(t,e)):e?e.innerHTML=t.innerHTML:t.classList.contains("content")?document.body.appendChild(t):document.body.insertBefore(t,document.querySelector(".content")),n||i&&i(),"fade"===n){e.offsetWidth,e.classList.remove("in");var s=function(){e.removeEventListener("webkitTransitionEnd",s),t.classList.add("in"),t.addEventListener("webkitTransitionEnd",c)},c=function(){t.removeEventListener("webkitTransitionEnd",c),e.parentNode.removeChild(e),t.classList.remove("fade"),t.classList.remove("in"),i&&i()};e.addEventListener("webkitTransitionEnd",s)}if(/slide/.test(n)){var d=function(){t.removeEventListener("webkitTransitionEnd",d),t.classList.remove("sliding","sliding-in"),t.classList.remove(a),e.parentNode.removeChild(e),i&&i()};e.offsetWidth,a=r?"right":"left",o=r?"left":"right",e.classList.add(o),t.classList.remove(a),t.addEventListener("webkitTransitionEnd",d)}},p=function(){var t=new CustomEvent("push",{detail:{state:d(f.id)},bubbles:!0,cancelable:!0});window.dispatchEvent(t)},b=function(t){for(var e,n=document.querySelectorAll("a");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},g=function(t){window.history.replaceState(null,"","#"),window.location.replace(t)},y=function(t,e,n){var i,r={};for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return Object.keys(o).forEach(function(t){var e=n.querySelector(o[t]);e&&e.parentNode.removeChild(e),r[t]=e}),r.contents=n.querySelector(e),r},S=function(t,e){var n,i,r={},o=t.responseText;if(r.url=e.url,!o)return r;/<html/i.test(o)?(n=document.createElement("div"),i=document.createElement("div"),n.innerHTML=o.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],i.innerHTML=o.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]):(n=i=document.createElement("div")).innerHTML=o,r.title=n.querySelector("title");var a="innerText"in r.title?"innerText":"textContent";return r.title=r.title&&r.title[a].trim(),e.transition?r=y(r,".content",i):r.contents=i,r};window.addEventListener("touchstart",function(){t=!1}),window.addEventListener("touchmove",function(){t=!0}),window.addEventListener("touchend",u),window.addEventListener("click",function(t){l(t)&&t.preventDefault()}),window.addEventListener("popstate",h),window.PUSH=f}(),function(){"use strict";var t,e,n,i,r,o,a,s,c,d,l,u,h,f=function(t){for(var e,n=document.querySelectorAll(".img-slider > .slide-mask");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},m=function(){if("webkitTransform"in n.style){var t=n.style.webkitTransform.match(/translate3d\(([^,]*)/),e=t?t[1]:0;return parseInt(e,10)}},v=function(t){var e=t?i<0?"ceil":"floor":"round";l=Math[e](m()/(h/n.children.length)),l+=t,l=Math.min(l,0),l=Math.max(-(n.children.length-1),l),console.log("slide number is: "+l)},w=function(o){if(n=f(o.target)){var l=n.querySelector(".slide");h=l.offsetWidth*n.children.length,u=void 0,d=n.offsetWidth,c=1,a=-(n.children.length-1),s=+new Date,t=o.touches[0].pageX,e=o.touches[0].pageY,i=0,r=0,v(0),n.style["-webkit-transition-duration"]=0}},p=function(s){s.touches.length>1||!n||(i=s.touches[0].pageX-t,r=s.touches[0].pageY-e,t=s.touches[0].pageX,e=s.touches[0].pageY,void 0===u&&(u=Math.abs(r)>Math.abs(i)),u||(o=i/c+m(),s.preventDefault(),c=0===l&&i>0?t/d+1.25:l===a&&i<0?Math.abs(t)/d+1.25:1,n.style.webkitTransform="translate3d("+o+"px,0,0)"))},b=function(t){if(n&&!u){v(+new Date-s<1e3&&Math.abs(i)>15?i<0?-1:1:0),o=l*d,n.style["-webkit-transition-duration"]=".2s",n.style.webkitTransform="translate3d("+o+"px,0,0)",t=new CustomEvent("slide",{detail:{slideNumber:Math.abs(l)},bubbles:!0,cancelable:!0}),n.parentNode.dispatchEvent(t);for(var e=document.querySelectorAll(".img-slider > .indicators-mask > .indicators")[0].children,r=0;r<e.length;r++)e[r].className.includes("active")&&e[r].classList.remove("active"),r===Math.abs(l)&&e[r].classList.add("active")}};window.addEventListener("touchstart",w),window.addEventListener("touchmove",p),window.addEventListener("touchend",b)}();
